<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Animation</title> 
    <link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet">
    <style>
        /* --- CSS STYLES (Unchanged) --- */

        :root {
            --color-start: #FF00FF; 
            --color-end: #00FF90;   
            --background-dark: #0A0A0A;
            --typing-cursor-color: #FFFFFF; 
            --glow-color: rgba(255, 255, 255, 0.6); 
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: var(--background-dark);
            font-family: 'Michroma', sans-serif;
        }
        
        #viewport-wrapper {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; 
        }

        #text-container {
            font-size: 10vw; 
            line-height: 1;
            white-space: nowrap;
            overflow: hidden;
            
            color: var(--color-start);
            text-shadow: 0 0 1px var(--color-start), 0 0 10px var(--glow-color);

            animation: 
                colorShift 3s infinite alternate, 
                pulseGlow 2s infinite alternate; 
        }
        
        .blinking-cursor {
            font-size: 1.1em;
            color: var(--typing-cursor-color);
            margin-left: 5px;
            animation: blink 0.7s step-end infinite;
        }

        @keyframes blink {
            from, to { opacity: 1.0; }
            50% { opacity: 0.0; }
        }

        @keyframes colorShift {
            0% {
                color: var(--color-start);
                text-shadow: 0 0 1px var(--color-start), 0 0 15px var(--color-start);
            }
            100% {
                color: var(--color-end);
                text-shadow: 0 0 1px var(--color-end), 0 0 15px var(--color-end);
            }
        }
        @keyframes pulseGlow {
            0% { opacity: 1; }
            100% { opacity: 0.95; }
        }

    </style>
</head>
<body>

    <div id="viewport-wrapper">
        <div id="text-container" data-phrase="The World Is Yours">
            </div>
    </div>

    <script>
        /* --- JAVASCRIPT: Typing and Backspacing Logic --- */

        const container = document.getElementById('text-container');
        // ðŸŽ¯ GET PHRASE FROM THE HTML ATTRIBUTE ðŸŽ¯
        const phrase = container.getAttribute('data-phrase'); 
        const ellipsis = ["", ".", "..", "..."];
        
        // ðŸŽ¯ Set the initial page title to the full phrase ðŸŽ¯
        document.title = phrase; 
        
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        
        // Add the blinking cursor immediately
        container.innerHTML = `<span id="typed-text"></span><span class="blinking-cursor">|</span>`;
        const typedTextElement = document.getElementById('typed-text');

        // Main typing/deleting loop function
        function typeWriter() {
            const currentPhrase = phrase + ellipsis[phraseIndex];
            
            if (isDeleting) {
                // DELETING PHASE
                typedTextElement.textContent = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
                
                if (charIndex === 0) {
                    isDeleting = false;
                    phraseIndex = (phraseIndex + 1) % ellipsis.length;
                    
                    if (phraseIndex === 0) {
                         setTimeout(typeWriter, 1500); 
                         return;
                    }
                }
                
                setTimeout(typeWriter, 50); // Fast backspacing
                
            } else {
                // TYPING PHASE
                typedTextElement.textContent = currentPhrase.substring(0, charIndex + 1);
                charIndex++;

                if (charIndex === currentPhrase.length) {
                    // Finished typing the current full phrase or ellipsis state
                    if (phraseIndex < ellipsis.length - 1) {
                         if (phraseIndex === 0) {
                             // Main phrase typed - transition to dots
                             phraseIndex++;
                             charIndex = phrase.length; 
                             setTimeout(typeWriter, 1000); 
                             return;
                         } else {
                             // Dot sequence typed - move to the next dot
                             phraseIndex++;
                             setTimeout(typeWriter, 350); 
                             return;
                         }

                    } else if (phraseIndex === ellipsis.length - 1) {
                        // Finished typing "..." - Now start deleting the whole thing
                        isDeleting = true;
                        charIndex = currentPhrase.length;
                        setTimeout(typeWriter, 1000); 
                        return;
                    }
                }

                // Set speed for typing
                setTimeout(typeWriter, 100); 
            }
        }

        // Start the loop
        document.addEventListener('DOMContentLoaded', () => {
             typeWriter();
        });
    </script>

</body>
</html>
